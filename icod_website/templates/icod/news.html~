<!DOCTYPE html>

{% extends 'icod/base.html' %}
{% load static %}

<html>

<head>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>

<body>

	{% block content %}

	<h1><center> News & Events</center></h1>
	<br><br>

	<div class="tabbable">
		<ul class="nav nav-tabs">
			<li class="active"><a href="#pane1" data-toggle="tab">All News</a></li>
			<li><a href="#pane2" data-toggle="tab">Financial News</a></li>
			<li><a href="#pane3" data-toggle="tab">Recognition</a></li>
			<li><a href="#pane4" data-toggle="tab">Policy Changes</a></li>
			<li><a href="#pane5" data-toggle="tab">Social News</a></li>
		</ul>
		<br>
	<div class="tab-content">
		<div id="pane1" class="tab-pane active">
			<table class="table" id="AllNewsTab">
				{% if news %}
				<thead>
					<tr>
					<th>Date</th>
					<th>Information</th>
					</tr>
				</thead>
				{% for item in news %}
				<tbody>
					<tr>
					<td width="25%">{{item.date}}</td>
					<td><strong>Title: {{item.title}}</strong><br><br><div class="nContents">{{item.news|linebreaks}}<br></div></td>
					</tr>
				</tbody>
				{% endfor %}
			{% else %}
			<br><strong> No news & events at this time. </strong>
			{% endif %}
			</table>
			
		</div>
		<div id="pane2" class="tab-pane">
			<table class="table" id="finTab">
				{% if fin %}
				<thead>
					<tr>
					<th>Date</th>
					<th>Information</th>
					</tr>
				</thead>
				{% for fItem in fin %}
				<tbody>
					<tr>
					<td width="25%">{{fItem.date}}</td>
					<td><strong>Title: {{fItem.title}}</strong><br><br><div class="nContents">{{fItem.news|linebreaks}}</div></td>
					</tr>
				</tbody>
				{% endfor %}
			{% else %}
			<br><strong> No news & events at this time. </strong>
			{% endif %}
			</table>
		</div>
		<div id="pane3" class="tab-pane">
			<table class="table" id="recogTab">
				{% if recog %}
				<thead>
					<tr>
					<th>Date</th>
					<th>Information</th>
					</tr>
				</thead>
				{% for rItem in recog %}
				<tbody>
					<tr>
					<td width="25%">{{rItem.date}}</td>
					<td><strong>Title: {{rItem.title}}</strong><br><br><div class="nContents">{{rItem.news|linebreaks}}</div></td>
					</tr>
				</tbody>
				{% endfor %}
			{% else %}
			<br><strong> No news & events at this time. </strong>
			{% endif %}
			</table>
		</div>
		<div id="pane4" class="tab-pane">
			<table class="table" id="polTab">
				{% if pols %}
				<thead>
					<tr>
					<th>Date</th>
					<th>Information</th>
					</tr>
				</thead>
				{% for pItem in pols %}
				<tbody>
					<tr>
					<td width="25%">{{pItem.date}}</td>
					<td><strong>Title: {{pItem.title}}</strong><br><br><div class="nContents">{{pItem.news|linebreaks}}</div></td>
					</tr>
				</tbody>
				{% endfor %}
			{% else %}
			<br><strong> No news & events at this time. </strong>
			{% endif %}
			</table>
		</div>
		<div id="pane5" class="tab-pane">
			<table class="table" id="socTab">
				{% if socs %}
				<thead>
					<tr>
					<th>Date</th>
					<th>Information</th>
					</tr>
				</thead>
				{% for sItem in socs %}
				<tbody>
					<tr>
					<td width="25%">{{sItem.date}}</td>
					<td><strong>Title: {{sItem.title}}</strong><br><br><div class="nContents">{{sItem.news|linebreaks}}</div></td>
					</tr>
				</tbody>
				{% endfor %}
			{% else %}
			<br><strong> No news & events at this time. </strong>
			{% endif %}
			</table>
		</div>
		</div><!-- /.tab-content -->
	</div><!-- /.tabbable -->

	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script>
			var minimized_elements = $('div.nContents');

			minimized_elements.each(function(){    
				var t = $(this).text();        
				if(t.length < 200) return;
		
				$(this).html(t.slice(0,200)+'<span>... </span><a class="more">Read More</a>'+ '<span style="display:none;">'+ t.slice(200,t.length)+' <br><br><a class="less">Read Less</a></span>'
				);
        		});
	
			$('a.more', minimized_elements).click(function(event){
				event.preventDefault();
				$(this).hide().prev().hide();
				$(this).next().show();        
			});

			$('a.less', minimized_elements).click(function(event){
				event.preventDefault();
				$(this).parent().hide().prev().show().prev().show();    
			});
	</script>

	{% endblock %}
</body>


</html>
